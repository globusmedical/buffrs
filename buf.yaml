version: v2
modules:
  - path: proto/foo
    name: buf.build/acme/foo
  - path: proto/bar
    name: buf.build/acme/bar
    excludes:
      - proto/bar/a
      - proto/bar/b/e.proto
    lint:
      use:
        - STANDARD
      except:
        - IMPORT_USED
      ignore:
        - proto/bar/c
      ignore_only:
        ENUM_ZERO_VALUE_SUFFIX:
          - proto/bar/a
          - proto/bar/b/f.proto
    enum_zero_value_suffix: _UNSPECIFIED
    service_suffix: Service
    breaking:
      use:
        - FILE
      except:
        - EXTENSION_MESSAGE_NO_DELETE
      ignore_unstable_packages: true
  - path: proto/common
    includes:
      - proto/common/weather
  - path: proto/common
    excludes:
      - proto/common/location/test
    includes:
      - proto/common/location
  - path: proto/common
    excludes:
      - proto/common/location
      - proto/common/weather
deps:
  - buf.build/acme/paymentapis
  - buf.build/acme/pkg:47b927cbb41c4fdea1292bafadb8976f
  - buf.build/googleapis/googleapis:v1beta1.1.0
lint:
  use:
    - STANDARD
    - TIMESTAMP_SUFFIX
breaking:
  use:
    - FILE
plugins:
  - plugin: plugin-timestamp-suffix
    options:
      timestamp_suffix: _time
